{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/publish-gatsby-to-github-pages/",
    "result": {"data":{"site":{"siteMetadata":{"title":"everyday.log"}},"markdownRemark":{"id":"acb0f1e8-c126-5996-99eb-f4563b3bbc17","excerpt":"1. Install gh-pages I used gh-pages to deploy my repository to github pages. 2. Setup Github repository I created a repository on Github and initialized it…","html":"<h2>1. Install gh-pages</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> i gh-pages</code></pre></div>\n<p>I used <strong><a href=\"https://www.npmjs.com/package/gh-pages\">gh-pages</a></strong> to deploy my repository to github pages.</p>\n<h2>2. Setup Github repository</h2>\n<p>I created a repository on Github and initialized it locally. Then I checked out into 2 branches: <code class=\"language-text\">master</code> and <code class=\"language-text\">dev</code> (or whaterver).</p>\n<p>The branch <strong><code class=\"language-text\">master</code></strong> should be set to default and only contains the built source only because <strong>Github Pages</strong> will get the default brach to publish.</p>\n<p>The branch <strong><code class=\"language-text\">dev</code></strong> should be used to store development source code.</p>\n<p>My repository’s branches will look like:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6b6c116eb61fbbc0ad3e22cc2ff594d/dba9a/branches.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.0759493670886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACeUlEQVQ4y32U2W7TQBSG/ShtQhI7Xsf7Fm/ZHLdNmpJWLRWIQuEGCYkbXv9H5zhOUmi5+HTGo5n/rGNJMXyEeY0or9l26yBbwktmeKdYOB/q6I0MpltrdgwR5DC9CawgZ8ZWCIk213dP2D484/HrT3z58Rsfv//C+u4z6s0DRrqLs4HGQi0a+rIJP1vg5vEbLnafsLl/wvbDM5x4CokuOFEF08vYox0WbDvvnVBfsViIUSyoIoTuJAxFS1Y2PEiUEolMZpeIy6ZNuVjxOi5XyBcb+JP5/lL6QoRQRQSD0vZzDFUb0mAs4EQFynrLl7P5FarVlr+L5TXml7dIqgaaiPZi8Z7k8G35GYSfcZbSUHNhplcYhw3GwYpRgprhtV9DDRsYydWb6OkaZtLAjStIskihhjVUK4DuTjAWEachggKanXCahjthO1AdbtDZUMfZoEPD+chi0RGl3EWok7e0Yw0zXbOl7+N6fXLmhMkGVtLwBEgD1YbhphBhwTWg4lJ3aY8swc1wW4y3cBL0ZBPSUHW4uNQEasDsYscdp7Sp2Pnymsfq2JRjMzQ7OnSbRHsj8xghQePjJVOeQe3F5X+h805csTPKrhU02rEhATeZIikbLDf3iIqaIzydt45ujwTi6gLJ9BJeOuf9fptyGyEdonqdXjwOcvoXr0d8SLnzWq1uEGSLNjoSFmFbJ7JM1PLCaXJ4RfRED4KEuj/ML8GdwAznMPwSZjhjjGDK/K8U3GV+k1Z4EKW15mYQ5R1E8R52eQtneg+73EGUu1cbRinTr1CizpAIzWDXcX3vQDV9jDQbvaGGwdiCrDlQDBey7qEvW0cUi/+b9Gr+ANW/K3DzUqa1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"branches\"\n        title=\"branches\"\n        src=\"/static/a6b6c116eb61fbbc0ad3e22cc2ff594d/f058b/branches.png\"\n        srcset=\"/static/a6b6c116eb61fbbc0ad3e22cc2ff594d/c26ae/branches.png 158w,\n/static/a6b6c116eb61fbbc0ad3e22cc2ff594d/6bdcf/branches.png 315w,\n/static/a6b6c116eb61fbbc0ad3e22cc2ff594d/f058b/branches.png 630w,\n/static/a6b6c116eb61fbbc0ad3e22cc2ff594d/dba9a/branches.png 652w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>3. Configure gatsby</h2>\n<p>In <code class=\"language-text\">package.json</code> I added this following scripts.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">./package.json\n    <span class=\"token comment\">//...</span>\n    <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//...</span>\n        <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build --prefix-paths &amp;&amp; gh-pages -d public -b master\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>It will build my source code to <em>public</em> directory and <code class=\"language-text\">gh-pages</code> will push those files to <code class=\"language-text\">master</code>. Then I config <code class=\"language-text\">gastby-config.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// in gatsby-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">pathPrefix</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>I was struggle with the pathPrefix for a while. I changed it from <code class=\"language-text\">'/blogs/'</code> to <code class=\"language-text\">'/'</code> and it worked.</p>\n<p>Add the following strings in plugins array in <code class=\"language-text\">gastby-config.js</code> to support offline functionality (PWA).</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// in gatsby-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-offline</span><span class=\"token template-punctuation string\">`</span></span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>4. <a href=\"#deploy\">Deploy the blog</a></h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> run deploy</code></pre></div>\n<p>Gatsby blog could be hosted on GitHub Pages at <strong>https://<code class=\"language-text\">&lt;username></code>.github.io/.</strong></p>\n<p>My github page: <a href=\"https://anlt149.github.io/\">anlt149.github.io</a></p>\n<p>My repository: <a href=\"https://github.com/anlt149/anlt149.github.io\">Github</a></p>","frontmatter":{"title":"How I published my gatsby app to github pages","date":"2022.05.13","description":"Publish gatsby web application to github pages."}},"allMarkdownRemark":{"edges":[{"node":{"id":"f473d39c-c781-51b8-bcfd-a1703c8f1909","frontmatter":{"title":"How I fixed gastby's footer  doesn't stay in place.","date":"2022.05.18","tags":["gatsby"]},"fields":{"slug":"/2022-05-18-how-i-fix-gatsby-footer/"}}},{"node":{"id":"2a9170ba-4a85-5f9f-8e38-c3fea48e10b1","frontmatter":{"title":"How to pass arguments to events in Svelte","date":"2022.05.16","tags":["svelte"]},"fields":{"slug":"/2022-05-16-how-svelte-pass-argument-in-function-call/"}}},{"node":{"id":"3ace2009-26e4-5efa-9cbd-26f21c06e1ab","frontmatter":{"title":"Svelte triggers function call everytime a variable changes","date":"2022.05.14","tags":["svelte"]},"fields":{"slug":"/2022-05-14-svelte-reactive-variable/"}}},{"node":{"id":"a67535da-fd43-5ca2-aeb0-ace336ce5084","frontmatter":{"title":"Transaction Isolation","date":"2022.05.10","tags":["Database"]},"fields":{"slug":"/2022-05-10-Transaction/"}}}]}},"pageContext":{"id":"acb0f1e8-c126-5996-99eb-f4563b3bbc17","previousPostId":"a67535da-fd43-5ca2-aeb0-ace336ce5084","nextPostId":"3ace2009-26e4-5efa-9cbd-26f21c06e1ab"}},
    "staticQueryHashes": ["2841359383"]}